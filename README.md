# FlashFakePlayerPack (FFPP)

一个为 Minecraft 基岩版 设计的强大假人（模拟玩家）插件。通过创建由脚本控制的假人，实现各种自动化任务，极大地丰富游戏玩法。

## ✨ 核心功能

- **📦 持久化存储**:
  - 本插件最核心的功能。假人的背包、装备、经验、名称及状态标签等所有数据，都会被自动保存到世界文件中。
  - 即使重启服务器或重进游戏，假人的状态也能够完美恢复，不会丢失任何物品。

- **🖱️ 便捷的GUI菜单**:
  - 彻底告别繁琐指令！将准星对准假人并**右键点击**即可打开交互菜单。
  - **直接右键** » 打开**功能菜单**，可执行交换背包、资源回收、传送等操作。
  - **潜行时右键** » 打开**标签菜单**，用于切换假人的各种持续状态（如：`自动追击`, `自动重生`, `自动钓鱼`等）。

- **🤖 丰富的行为模拟**:
  - **战斗**: 自动攻击、自动追击附近的敌对生物或玩家。
  - **任务**: 自动钓鱼、自动破坏准星前方的方块。
  - **动作**: 持续跳跃、使用物品（如投掷三叉戟）。

- **⚙️ 灵活的指令系统**:
  - 几乎所有功能都支持通过聊天栏指令进行控制，前缀为 `假人`。
  - 非常适合与命令方块结合，实现更复杂的自动化系统。

- **🎒 全面的物品管理**:
  - 可随时与假人交换整个背包或全套穿戴的装备。
  - 通过“资源回收”功能（或“爆金币”），可以一键清空假人的所有物品并掉落在地，同时将经验值返还给操作者。

## 🚀 如何使用

1.  **安装插件**:
    -   直接打开 `.mcpack` 文件，Minecraft 将自动完成安装。
    -   在创建新世界或编辑旧世界时，在“行为包”选项中激活本插件。
    -   **务必**在创建存档时打开“实验性游戏内容”选项中的“**测试版 API**”开关。

2.  **创建假人**:
    -   在聊天栏输入 `假人创建` 即可在你的位置创建一个假人。
    -   **更多创建方式**:
        -   `假人创建 <名称>`: 创建一个指定名称的假人。
        -   `假人创建 <x> <y> <z>`: 在指定坐标创建假人。
        -   `假人创建 批量 <数量>`: 一次性创建多个假人。

3.  **与假人交互**:
    -   **主要方式**: 准星对准假人后，通过右键进行交互。这是最推荐的使用方式。
    -   **指令方式**: 在聊天栏输入 `假人 <指令>`。将准星对准假人后输入指令，即可控制该假人。

## 🧾 指令列表 (Command List)

所有指令都以 `假人` 作为开头。

可以使用`/scriptevent`命令调用，前缀是`ffpp`或`ffp`，例如`/scriptevent ffpp:ffpp`。

---

### **基础指令**

| 指令             | 别名           | 功能描述                   |
|:---------------|:-------------|:-----------------------|
| `创建 [名称] [坐标]` | `生成`, `ffpp` | 创建一个假人。支持指定名称、坐标和批量创建。 |
| `销毁 [序号]`      | `移除`, `清除`   | 回收物品并彻底移除一个假人。可指定序号。   |
| `列表`           |              | 显示当前所有假人的序号和名称。        |
| `帮助 [具体指令]`    | `help`       | 显示帮助信息。                |
| `github`       |              | 在聊天框显示项目的GitHub仓库二维码。  |

---

### **交互指令**

| 指令         | 别名            | 功能描述                    |
|:-----------|:--------------|:------------------------|
| `背包交换`     | `交换背包`        | 与准星对准的假人交换整个背包的物品。      |
| `装备交换`     | `交换装备`        | 与准星对准的假人交换所有穿戴的装备。      |
| `资源回收`     | `背包清空`, `爆金币` | 清空假人背包和装备，将物品掉落，经验返还给你。 |
| `改名 <新名称>` | `重命名`         | 为准星对准的假人修改名称。           |
| `重生 [序号]`  | `复活`          | 复活一个已死亡的假人。可指定序号。       |
| `位置 [序号]`  | `坐标`          | 获取一个假人当前所在的坐标和维度。       |

---

### **行为控制**

| 指令       | 别名   | 功能描述                     |
|:---------|:-----|:-------------------------|
| `攻击`     |      | 让假人进行一次攻击。               |
| `自动攻击`   |      | 切换“自动攻击”状态（持续攻击前方实体）。    |
| `自动追击`   |      | 切换“自动追击”状态（自动寻找并攻击敌对目标）。 |
| `挖掘`     | `摧毁` | 切换“自动挖掘”状态（持续破坏前方方块）。    |
| `自动丢三叉戟` |      | 切换“自动使用”状态（持续使用主手物品）。    |
| `开始跳跃`   |      | 让假人开始不停地跳跃。              |
| `结束跳跃`   |      | 让假人停止跳跃。                 |
| `停止`     | `开摆` | 停止假人当前的所有活动。             |

---

### **管理指令**

| 指令     | 别名            | 功能描述                                                                           |
|:-------|:--------------|:-------------------------------------------------------------------------------|
| `重置序号` | `编号重置`        | 重置内部的假人ID计数器。                                                                  |
| `命令列表` | `showshowway` | 显示所有已注册的可用指令。                                                                  |
| `限额配置` | `xepg`        | 限制每个玩家或全局的假人数量限制，即限额。<br/>由于<s>`Bugjump`</s>的原因，目前无法通过聊天触发，需要使用`/scriptevent`。 |


## ⚠️ 注意事项

- **实验性功能**: 本插件依赖于Minecraft的测试版API，可能存在不稳定的情况。强烈建议您定期备份存档。
- **版本兼容**: 请留意插件的版本说明，确保其与您的游戏版本兼容。
- **数据安全**: 背包持久化功能依赖于世界文件中的`structure`。请不要手动删除名为 `flashfakeplayerpack:backpack2barrel` 的结构，否则可能导致假人背包数据丢失。
- **修复**: 已修复插件影响游戏刷怪、时间流动和随机刻的问题。
- **已知问题**: 好像钓鱼一直有问题，没办法蹲下或被活板门压扁，疑似存在远离玩家召唤时不加载区块的情况

---

## 开发者信息 (Developer Info)

### 打包与发布流程
1. 创建并推送一个新 tag，tag 名称以 `v` 开头（如 `v1.0.0`），这会通过 GitHub Actions 自动触发发布流程。
2. 流程会执行以下步骤：
   - 从 `tscripts` 目录编译 TypeScript 到 `scripts_yeah`。
   - 使用 Webpack 处理 `scripts_yeah` 的文件到 `scripts`。
   - 运行 `packer.js` 将 `scripts` 和其他资源打包成 `.mcpack` 文件到 `build` 目录。
   - Release 的说明内容会自动取自最新的 `CHANGELOG.md` 文件。
   - 最后创建并发布 Release。